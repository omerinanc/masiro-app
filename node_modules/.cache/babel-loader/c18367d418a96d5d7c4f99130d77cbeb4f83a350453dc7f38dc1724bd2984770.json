{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\inanc\\\\Documents\\\\GitHub\\\\omerinanc.github.io\\\\masiro\\\\src\\\\components\\\\auth\\\\Login.js\";\n// import React, { Component } from \"react\";\n// import axios from \"axios\";\n// import { Redirect } from \"react-router-dom\";\n\n// export default class Login extends Component {\n//   constructor(props) {\n//     super(props);\n\n//     this.state = {\n//       email: \"\",\n//       password: \"\",\n//       loginError: \"\",\n//     };\n\n//     this.handleChange = this.handleChange.bind(this);\n//     this.handleSubmit = this.handleSubmit.bind(this);\n//   }\n\n//   handleChange(event) {\n//     this.setState({\n//       [event.target.name]: event.target.value,\n//     });\n//   }\n\n//   handleSubmit(event) {\n//     event.preventDefault();\n//     const { email, password } = this.state;\n//     console.log(\"Logging in with:\", email, password);\n\n//     axios\n//       .post(\n//         \"http://localhost:3001/sessions\",\n//         {\n//           user: {\n//             email: email,\n//             password: password,\n//           },\n//         },\n//         { withCredentials: true }\n//       )\n//       .then((response) => {\n//         console.log(\"Login response:\", response.data);\n\n//         if (response.data.logged_in) {\n//           console.log(\"Login successful!\");\n//           this.props.handleSuccessfulAuth(response.data.user);\n//         } else {\n//           console.log(\"Login failed:\", response.data.status);\n//           this.setState({\n//             loginError: \"Login failed. Please check your credentials.\",\n//           });\n//         }\n//       })\n//       .catch((error) => {\n//         console.log(\"Login error\", error);\n//         this.setState({\n//           loginError: \"An error occurred during login. Please try again.\",\n//         });\n//       });\n//   }\n\n//   render() {\n//     if (this.props.loggedInStatus) {\n//       return <Redirect to=\"/dashboard\" />;\n//     }\n\n//     return (\n//       <div>\n//         <form onSubmit={this.handleSubmit}>\n//           <div className=\"form-group\">\n//             <input\n//               className=\"form-control\"\n//               type=\"email\"\n//               name=\"email\"\n//               placeholder=\"Email\"\n//               required\n//               value={this.state.email}\n//               onChange={this.handleChange}\n//             />\n//           </div>\n//           <div className=\"form-group\">\n//             <input\n//               className=\"form-control\"\n//               type=\"password\"\n//               name=\"password\"\n//               placeholder=\"Password\"\n//               required\n//               value={this.state.password}\n//               onChange={this.handleChange}\n//             />\n//           </div>\n//           {this.state.loginError && (\n//             <div className=\"error-message\">{this.state.loginError}</div>\n//           )}\n//           <button type=\"submit\">Login</button>\n//         </form>\n//       </div>\n//     );\n//   }\n// }\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      loginErrors: \"\"\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleSubmit(event) {\n    const {\n      email,\n      password\n    } = this.state;\n    axios.post(\"http://localhost:3001/sessions\", {\n      user: {\n        email: email,\n        password: password\n      }\n    }, {\n      withCredentials: true\n    }).then(response => {\n      if (response.data.logged_in && response.data.patient) {\n        this.props.handleSuccessfulAuth(response.data);\n      } else {\n        console.log(\"Login failed:\", response.data.status);\n        //           this.setState({\n        //             loginError: \"Login failed. Please check your credentials.\",\n      }\n    }).catch(error => {\n      console.log(\"login error\", error);\n    });\n    event.preventDefault();\n  }\n  handleChange(event) {\n    this.setState({\n      [event.target.name]: event.target.value\n    });\n  }\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: this.handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"Email\",\n            required: true,\n            value: this.state.email,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"form-control\",\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"Password\",\n            required: true,\n            value: this.state.password,\n            onChange: this.handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary btn-sm\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 154,\n      columnNumber: 7\n    }, this);\n  }\n}","map":{"version":3,"names":["React","Component","axios","jsxDEV","_jsxDEV","Login","constructor","props","state","email","password","loginErrors","handleSubmit","bind","handleChange","event","post","user","withCredentials","then","response","data","logged_in","patient","handleSuccessfulAuth","console","log","status","catch","error","preventDefault","setState","target","name","value","render","children","onSubmit","className","type","placeholder","required","onChange","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["C:/Users/inanc/Documents/GitHub/omerinanc.github.io/masiro/src/components/auth/Login.js"],"sourcesContent":["// import React, { Component } from \"react\";\r\n// import axios from \"axios\";\r\n// import { Redirect } from \"react-router-dom\";\r\n\r\n// export default class Login extends Component {\r\n//   constructor(props) {\r\n//     super(props);\r\n\r\n//     this.state = {\r\n//       email: \"\",\r\n//       password: \"\",\r\n//       loginError: \"\",\r\n//     };\r\n\r\n//     this.handleChange = this.handleChange.bind(this);\r\n//     this.handleSubmit = this.handleSubmit.bind(this);\r\n//   }\r\n\r\n//   handleChange(event) {\r\n//     this.setState({\r\n//       [event.target.name]: event.target.value,\r\n//     });\r\n//   }\r\n\r\n//   handleSubmit(event) {\r\n//     event.preventDefault();\r\n//     const { email, password } = this.state;\r\n//     console.log(\"Logging in with:\", email, password);\r\n\r\n//     axios\r\n//       .post(\r\n//         \"http://localhost:3001/sessions\",\r\n//         {\r\n//           user: {\r\n//             email: email,\r\n//             password: password,\r\n//           },\r\n//         },\r\n//         { withCredentials: true }\r\n//       )\r\n//       .then((response) => {\r\n//         console.log(\"Login response:\", response.data);\r\n\r\n//         if (response.data.logged_in) {\r\n//           console.log(\"Login successful!\");\r\n//           this.props.handleSuccessfulAuth(response.data.user);\r\n//         } else {\r\n//           console.log(\"Login failed:\", response.data.status);\r\n//           this.setState({\r\n//             loginError: \"Login failed. Please check your credentials.\",\r\n//           });\r\n//         }\r\n//       })\r\n//       .catch((error) => {\r\n//         console.log(\"Login error\", error);\r\n//         this.setState({\r\n//           loginError: \"An error occurred during login. Please try again.\",\r\n//         });\r\n//       });\r\n//   }\r\n\r\n//   render() {\r\n//     if (this.props.loggedInStatus) {\r\n//       return <Redirect to=\"/dashboard\" />;\r\n//     }\r\n\r\n//     return (\r\n//       <div>\r\n//         <form onSubmit={this.handleSubmit}>\r\n//           <div className=\"form-group\">\r\n//             <input\r\n//               className=\"form-control\"\r\n//               type=\"email\"\r\n//               name=\"email\"\r\n//               placeholder=\"Email\"\r\n//               required\r\n//               value={this.state.email}\r\n//               onChange={this.handleChange}\r\n//             />\r\n//           </div>\r\n//           <div className=\"form-group\">\r\n//             <input\r\n//               className=\"form-control\"\r\n//               type=\"password\"\r\n//               name=\"password\"\r\n//               placeholder=\"Password\"\r\n//               required\r\n//               value={this.state.password}\r\n//               onChange={this.handleChange}\r\n//             />\r\n//           </div>\r\n//           {this.state.loginError && (\r\n//             <div className=\"error-message\">{this.state.loginError}</div>\r\n//           )}\r\n//           <button type=\"submit\">Login</button>\r\n//         </form>\r\n//       </div>\r\n//     );\r\n//   }\r\n// }\r\nimport React, { Component } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default class Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n\r\n    this.state = {\r\n      email: \"\",\r\n      password: \"\",\r\n      loginErrors: \"\",\r\n    };\r\n    this.handleSubmit = this.handleSubmit.bind(this);\r\n    this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleSubmit(event) {\r\n    const { email, password } = this.state;\r\n    axios\r\n      .post(\r\n        \"http://localhost:3001/sessions\",\r\n        {\r\n          user: {\r\n            email: email,\r\n            password: password,\r\n          },\r\n        },\r\n        { withCredentials: true }\r\n      )\r\n      .then((response) => {\r\n        if (response.data.logged_in && response.data.patient) {\r\n          this.props.handleSuccessfulAuth(response.data);\r\n        } else {\r\n          console.log(\"Login failed:\", response.data.status);\r\n          //           this.setState({\r\n          //             loginError: \"Login failed. Please check your credentials.\",\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"login error\", error);\r\n      });\r\n\r\n    event.preventDefault();\r\n  }\r\n\r\n  handleChange(event) {\r\n    this.setState({\r\n      [event.target.name]: event.target.value,\r\n    });\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.handleSubmit}>\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"form-control\"\r\n              type=\"email\"\r\n              name=\"email\"\r\n              placeholder=\"Email\"\r\n              required\r\n              value={this.state.email}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <input\r\n              className=\"form-control\"\r\n              type=\"password\"\r\n              name=\"password\"\r\n              placeholder=\"Password\"\r\n              required\r\n              value={this.state.password}\r\n              onChange={this.handleChange}\r\n            />\r\n          </div>\r\n          <button type=\"submit\" className=\"btn btn-primary btn-sm\">\r\n            Login\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}